var Nanobar=function(){var e,d,f,c,g=document.head||document.getElementsByTagName("head")[0];e=function(){var a=document.getElementById("nanobar-style");null===a&&(a=document.createElement("style"),a.type="text/css",a.id="nanobar-style",g.insertBefore(a,g.firstChild),a.styleSheet?a.styleSheet.cssText=".nanobar{float:left;width:100%;height:4px;z-index:9999;}.nanobarbar{width:0;height:100%;float:left;transition:all .3s;}":a.appendChild(document.createTextNode(".nanobar{float:left;width:100%;height:4px;z-index:9999;}.nanobarbar{width:0;height:100%;float:left;transition:all .3s;}")))};
d=function(){var a=document.createElement("fakeelement"),b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c;for(c in b)if(void 0!==a.style[c])return b[c]}();f=function(a){var b=document.createElement("div");b.setAttribute("class","nanobarbar");b.style.background=a.opts.bg;b.setAttribute("on","1");a.cont.appendChild(b);d&&b.addEventListener(d,function(){"100%"===b.style.width&&"1"===b.getAttribute("on")&&(b.setAttribute("on",
0),a.bars.pop(),b.style.height=0,setTimeout(function(){a.cont.removeChild(b)},300))});return b};c=function(a){a=this.opts=a||{};var b;a.bg=a.bg||"#000";this.bars=[];e();b=this.cont=document.createElement("div");b.setAttribute("class","nanobar");a.id&&(b.id=a.id);a.target?b.style.position="relative":(b.style.position="fixed",b.style.top="0");a.target?a.target.insertBefore(b,a.target.firstChild):document.getElementsByTagName("body")[0].appendChild(b);return this.init()};c.prototype.init=function(){var a=
f(this);this.bars.unshift(a)};c.prototype.go=function(a){this.bars[0].style.width=a+"%";100==a&&this.init()};return c}();